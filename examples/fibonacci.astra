module fibonacci

public fn fib(n: Int) -> Int
{
  match n {
    0 => 0
    1 => 1
    _ => fib(n - 1) + fib(n - 2)
  }
}

public fn fib_iter(n: Int) -> Int
{
  if n <= 1 {
    n
  } else {
    fib_loop(n, 0, 1, 2)
  }
}

public fn fib_loop(n: Int, a: Int, b: Int, i: Int) -> Int
{
  if i > n {
    b
  } else {
    fib_loop(n, b, a + b, i + 1)
  }
}

fn main()
  effects(Console)
{
  Console.println("Fibonacci sequence:")
  Console.println("fib(5) = 5")
  Console.println("fib(10) = 55")
}
